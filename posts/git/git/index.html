<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><style>:root{--accent-color:#FF4D4D}</style><title>Git</title>
<meta name=description content="Some Basics about git"><meta name=keywords content='blog,datDhruv,datdhruv,typdef,git'><meta property="og:url" content="http://typdef.com/posts/git/git/"><meta property="og:type" content="website"><meta property="og:title" content="Git"><meta property="og:description" content="Some Basics about git"><meta property="og:image" content="http://typdef.com/"><meta property="og:image:secure_url" content="http://typdef.com/"><meta name=twitter:card content="summary_large_image"><meta name=twitter:title content="Git"><meta name=twitter:description content="Some Basics about git"><meta property="twitter:domain" content="http://typdef.com/posts/git/git/"><meta property="twitter:url" content="http://typdef.com/posts/git/git/"><meta name=twitter:image content="http://typdef.com/"><link rel=canonical href=http://typdef.com/posts/git/git/><link rel=stylesheet type=text/css href=/css/normalize.min.css media=print><link rel=stylesheet type=text/css href=/css/main.min.css><link id=dark-theme rel=stylesheet href=/css/dark.min.css><script src=/js/bundle.min.224c8e70fed292d18d7d9ae1b36797c99144e0be1117e2ea2c428379c8496551.js integrity="sha256-IkyOcP7SktGNfZrhs2eXyZFE4L4RF+LqLEKDechJZVE="></script></head><body><script type=text/javascript>setThemeByUserPref()</script><header class=header><nav class=header-nav><div class=nav-title><a class=nav-brand href=http://typdef.com/>typdef's Blog</a></div><div class=nav-links><div class=nav-link><a href=http://typdef.com/posts/><span data-feather=book></span> Posts</a></div><div class=nav-link><a href=http://typdef.com/tags/><span data-feather=tag></span> Tags</a></div><div class=nav-link><a href=https://github.com/datdhruv target=_blank><span data-feather=github></span></a></div><span class=nav-icons-divider></span><div class="nav-link dark-theme-toggle"><span id=dark-theme-toggle-screen-reader-target class=sr-only></span>
<a><span id=theme-toggle-icon data-feather=moon></span></a></div><div class=nav-link id=hamburger-menu-toggle><span id=hamburger-menu-toggle-screen-reader-target class=sr-only>menu</span>
<a><span data-feather=menu></span></a></div><ul class="nav-hamburger-list visibility-hidden"><li class=nav-item><a href=http://typdef.com/posts/><span data-feather=book></span> Posts</a></li><li class=nav-item><a href=http://typdef.com/tags/><span data-feather=tag></span> Tags</a></li><li class=nav-item><a href=https://github.com/datdhruv target=_blank><span data-feather=github></span></a></li><li class="nav-item dark-theme-toggle"><span id=dark-theme-toggle-screen-reader-target class=sr-only>theme</span>
<a><span id=theme-toggle-icon data-feather=moon></span></a></li></ul></div></nav></header><main id=content><div class="post container"><div class=post-header-section><h1>Git</h1><small role=doc-subtitle>Some Basics about git</small><p class=post-date>March 5, 2020</p><ul class=post-tags><li class=post-tag><a href=http://typdef.com/tags/git>git</a></li></ul></div><div class=post-content><p><p>Some Conventions</p><p>repository(repo) -> basically just a folder, which has all your code in it</p><p>local repo -> The folder that is On your computer</p><p>remote repo -> The folder that is on some git server (or on a server, basically not on your computer)</p><p>origin is the git repo, master is the branch of the repo you want to push to.</p><p>Before we proceed, <strong>please also check the help pages and the man pages for the topics, they go beyond these basics and explaing in more depth</strong></p><h2 id=to-initialize-a-local-repository>To initialize a local repository</h2><pre tabindex=0><code class=language-git data-lang=git>git init &lt;directory&gt;
</code></pre><p>if you create a directory on a remote and initialize with <code>git init .</code> and then try commiting to it, it wont happen!</p><p>on the remote you need to <code>git checkout -b tmp</code> and then push from your machine(local) to the remote</p><p><a href=https://stackoverflow.com/questions/2816369/git-push-error-remote-rejected-master-master-branch-is-currently-checked>here is a stackoverflow page</a></p><p>I just had the same error while I began learning Git. Some of the other answers are clearly not for someone new to Git!</p><p>(I am going to use non technical terms to get the idea across.) Anyway, what is happening is that you have two repositories, one is the original you first made, and the other the work one you just made.</p><p>Right now you are in your work repository and are using the &ldquo;master&rdquo; branch. But you also happen to be &ldquo;logged in&rdquo; in your original repository to the same &ldquo;master&rdquo; branch. Now since you&rsquo;re &ldquo;logged in&rdquo; in the original, Git fears you might mess up because you might be working on the original and screw things up. So you need to return to the original repository and do a &ldquo;git checkout someotherbranch&rdquo;, and now you can push with no problems.</p><p>I hope this helps.</p><h2 id=to-add-the-recent-changes-to-the-tracker-list>To add the recent changes to the tracker list</h2><pre tabindex=0><code class=language-git data-lang=git># adding only a single file
git add &lt;filename&gt;

# OR add an entire directory
git add &lt;directory&gt;
</code></pre><h4 id=checking-the-things-in-the-tracker-list>Checking the things in the tracker list</h4><p>this is done with the status command</p><pre tabindex=0><code class=language-git data-lang=git>git status

# example
# On branch master
# Your branch is up to date with &#39;origin/master&#39;.

# Changes to be committed:
#  (use &#34;git restore --staged &lt;file&gt;...&#34; to unstage)
#        new file:   About-git.md
</code></pre><h2 id=commiting-the-changes-in-the-tracker-list>Commiting the changes in the tracker list</h2><h4 id=for-global-config>for global config</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>git config --global user.name <span style=color:#e6db74>&#34;firstname lastname&#34;</span>
</span></span><span style=display:flex><span>git config --global user.email <span style=color:#e6db74>&#34;email_id&#34;</span>
</span></span></code></pre></div><h4 id=you-can-also-set-local-directory-related-config>you can also set local directory related config</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>git config user.name <span style=color:#e6db74>&#34;firstname lastname&#34;</span>
</span></span><span style=display:flex><span>git config user.email <span style=color:#e6db74>&#34;email_id&#34;</span>
</span></span></code></pre></div><p>While commiting, a message is absolutely required. Another -m can be used to provide some description about the message</p><pre tabindex=0><code class=language-git data-lang=git>git commit -m &#34;message&#34; -m &#34;description&#34;

# git commit -m &#34;add stuff to about git&#34;
# [master cd5c47a] add stuff to about git
# 1 file changed, 126 insertions(+)
# create mode 100644 About-git.md
</code></pre><h2 id=making-changes-to-a-remote-repository>Making changes to a remote repository</h2><p>This can be done via SSH keys or via <a href=/posts/git/git-credential-manager/>Gitcredential manager</a></p><ol><li><p>Create SSH keys and add the .pub (public part) of the key on github/your git provider</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>ssh-keygen -t rsa -b <span style=color:#ae81ff>4096</span> -C <span style=color:#e6db74>&#34;your_email@example.com&#34;</span>
</span></span></code></pre></div></li><li><p>Ensure ssh-agent is running</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span> <span style=color:#75715e># start the ssh-agent in the background</span>
</span></span><span style=display:flex><span>$ eval <span style=color:#66d9ef>$(</span>ssh-agent -s<span style=color:#66d9ef>)</span>
</span></span><span style=display:flex><span>&gt; Agent pid <span style=color:#ae81ff>59566</span>
</span></span></code></pre></div><p>or on Windows powershell</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-powershell data-lang=powershell><span style=display:flex><span> Get-Service -Name ssh-agent | Set-Service -StartupType Manual
</span></span><span style=display:flex><span> Start-Service ssh-agent
</span></span></code></pre></div></li><li><p>Add your SSH private key to the ssh-agent. If you created your key with a different name, or if you are adding an existing key that has a different name, replace�<em>id_rsa</em>�in the command with the name of your private key file.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>$ ssh-add ~/.ssh/id_rsa
</span></span></code></pre></div></li><li><p>Add the ssh key to your git provider</p></li></ol><h3 id=setting-up-a-git-server>setting up a git server</h3><p>Most of it is the same, you need to initialize a bare repository, to which you commit to and pull from on the <em>server</em>. And ofc add ssh public key of your computer to the serve.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span><span style=color:#75715e># on the server initialize a bare repository with .git extention as an conventi</span>
</span></span><span style=display:flex><span>mkdir my_repo.git
</span></span><span style=display:flex><span>cd my_repo.git
</span></span><span style=display:flex><span>git init --bare
</span></span></code></pre></div><p>Next you need to set up the repo in your git project using the <code>git remote</code> sub-command.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>git remote add <span style=color:#f92672>[</span>-t &lt;branch&gt;<span style=color:#f92672>]</span> <span style=color:#f92672>[</span>-m &lt;master&gt;<span style=color:#f92672>]</span> <span style=color:#f92672>[</span>-f<span style=color:#f92672>]</span> <span style=color:#f92672>[</span>--<span style=color:#f92672>[</span>no-<span style=color:#f92672>]</span>tags<span style=color:#f92672>]</span> <span style=color:#f92672>[</span>--mirror<span style=color:#f92672>=(</span>fetch|push<span style=color:#f92672>)]</span> &lt;name&gt; &lt;url&gt;
</span></span><span style=display:flex><span><span style=color:#75715e># or update and existing url with</span>
</span></span><span style=display:flex><span>git remote set-url <span style=color:#f92672>[</span>--push<span style=color:#f92672>]</span> &lt;name&gt; &lt;newurl&gt; <span style=color:#f92672>[</span>&lt;oldurl&gt;<span style=color:#f92672>]</span>
</span></span></code></pre></div><p>Then you can use the push command</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>git push origin master
</span></span><span style=display:flex><span><span style=color:#75715e># origin is the git repo</span>
</span></span><span style=display:flex><span><span style=color:#75715e># master is the branch of the repo you want to push to</span>
</span></span></code></pre></div><h3 id=getting-changes-from-remote-repository>Getting changes from remote repository</h3><p>To do this you use the pull command</p><pre tabindex=0><code class=language-git data-lang=git>git pull origin master
</code></pre><h2 id=tracking-changes-in-a-local-repo>Tracking changes in a local repo</h2><p>use the git log command</p><pre tabindex=0><code class=language-git data-lang=git>git log
</code></pre><p>this gives the recent changes along with the unique hashcodes of each change.</p><p>In addition you can run view the history of commits in a graph format</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>git log --graph --oneline
</span></span></code></pre></div><h2 id=undoing-changes>Undoing changes</h2><p>we can undo the most recent changes using the git reset command</p><p>reset without any argument resets only changes in the tracker list(git add stuff), to undo commits, you need to specify HEAD~a_num. HEAD is a pointer to the most recent change. HEAD~1 -> HEAD -1 = the change before the most recent change</p><pre tabindex=0><code class=language-git data-lang=git># for tracker
git reset

# for commits
git reset HEAD~1 # or HEAD~a_num
</code></pre><p>To undo Remote commits:</p><pre tabindex=0><code class=language-git data-lang=git>git reset HEAD~1 # remove commit locally
git push origin +HEAD # force-push the new HEAD commit
</code></pre><h2 id=branching>Branching</h2><p>to change to a different branch of the repo, use the checkout -b command</p><pre tabindex=0><code class=language-git data-lang=git>git checkout -b &lt;branch-name&gt;
# example
# git checkout -b master
</code></pre><p>to merge the changes of the two branches, here you don&rsquo;t have to specify the branch you want to merge INTO because it is usually the branch you are currently working on</p><pre tabindex=0><code class=language-git data-lang=git>git merge &lt;branch name&gt;
</code></pre><p>You can merge a branch into the main branch as a single commit using the <code>--squash</code> flag with <code>git merge</code>. When you sqash a branch, the commit history from that branch <em>does not</em> come into the branch you are merging into. So you may have multiple commits in the diverging branch, but when you merge, these commits will not come into the branch you are merging into, instead the state of the final commit will be merged.</p><p>to push a branch onto a remote git server:</p><pre tabindex=0><code class=language-git data-lang=git>git push --set-upstream origin branch_name
git push -u origin branch_name
</code></pre><h3 id=managing-merge-conflicts>Managing merge conflicts</h3><p><a href=https://www.atlassian.com/git/tutorials/using-branches/merge-conflicts>chekck this out</a></p><p>use <code>git stash</code> command</p><h3 id=to-delete-branches>To delete branches</h3><pre tabindex=0><code class=language-git data-lang=git># To delete branch locally:
git branch -d branch_name

# To delete branch remotely:
git push origin/remote_ref --delete branch_name
</code></pre><h2 id=git-tags>Git tags</h2><p>tags are non-branch save points</p><p>to create a tag, just do <code>git tag tag-name</code></p><p>you can also checkout git tags using the checkout command</p><h2 id=git-stash>Git stash</h2><p>What <code>git stash</code> does is, it will see all the unadded, uncommited changes to files, with respect to HEAD (and possibly other branches if checked out into them) and store it in a tree.</p><p>Then it will revert the directory to the clean working state like HEAD</p><p>Use <code>git stash pop</code> or <code>git stash apply</code> to apply these previously unsaved changes again, after, for example pulling the latest version of the repo. Then the unsaved changes and work can be saved back to the updated repo.</p><p>If the changes have outlived their purpose, you can <code>git stash drop</code> the changes</p><p><code>git stash list</code> to list stashes and <code>git stash show</code> to show changes</p><h2 id=deleting-the-history-of-a-branch>Deleting the history of a branch</h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>git checkout --orphan tmp-main <span style=color:#75715e># create a temporary branch</span>
</span></span><span style=display:flex><span>git add -A  <span style=color:#75715e># Add all files and commit them</span>
</span></span><span style=display:flex><span>git commit -m <span style=color:#e6db74>&#39;Add files&#39;</span>
</span></span><span style=display:flex><span>git branch -D main <span style=color:#75715e># Deletes the master branch</span>
</span></span><span style=display:flex><span>git branch -m main <span style=color:#75715e># Rename the current branch to master</span>
</span></span><span style=display:flex><span>git push -f origin main <span style=color:#75715e># Force push master branch to Git server</span>
</span></span></code></pre></div><h2 id=git-log-git-show--git-diff>Git log, Git show & Git Diff</h2><p>git log shows you a history of all the commits in a branch.</p><p>With the <code>git log --stat</code> command you can see what files were changed and a breif on what the changes were as well.</p><p>The <code>git show</code> command will give you even more details telling you exactly what the changes were.</p><p>The <code>git diff</code> command will give you the exact changes <strong>between two</strong> commit hashes</p><h3 id=getting-changes-in-a-remote-repo>Getting changes in a remote repo</h3><p>First you need to fetch the changes, this is done with the command <code>git fetch</code>. Then to see what the changes actually are, you can use <code>git log main..origin/main</code> or <code>git log local_branch..remote/branch</code></p></p></div><div class=prev-next></div><svg id="btt-button" class="arrow-logo" xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 384 512" onclick="topFunction()" title="Go to top"><path d="M177 159.7l136 136c9.4 9.4 9.4 24.6.0 33.9l-22.6 22.6c-9.4 9.4-24.6 9.4-33.9.0L160 255.9l-96.4 96.4c-9.4 9.4-24.6 9.4-33.9.0L7 329.7c-9.4-9.4-9.4-24.6.0-33.9l136-136c9.4-9.5 24.6-9.5 34-.1z"/></svg>
<script>let backToTopButton=document.getElementById("btt-button");window.onscroll=function(){scrollFunction()};function scrollFunction(){document.body.scrollTop>20||document.documentElement.scrollTop>20?backToTopButton.style.display="block":backToTopButton.style.display="none"}function topFunction(){smoothScrollToTop()}function smoothScrollToTop(){const e=()=>{const t=document.documentElement.scrollTop||document.body.scrollTop;t>0&&(window.requestAnimationFrame(e),window.scrollTo(0,t-t/8))};e()}</script></div><aside class=post-toc><nav id=toc><nav id=TableOfContents><ul><li><a href=#to-initialize-a-local-repository>To initialize a local repository</a></li><li><a href=#to-add-the-recent-changes-to-the-tracker-list>To add the recent changes to the tracker list</a><ul><li></li></ul></li><li><a href=#commiting-the-changes-in-the-tracker-list>Commiting the changes in the tracker list</a><ul><li></li></ul></li><li><a href=#making-changes-to-a-remote-repository>Making changes to a remote repository</a><ul><li><a href=#setting-up-a-git-server>setting up a git server</a></li><li><a href=#getting-changes-from-remote-repository>Getting changes from remote repository</a></li></ul></li><li><a href=#tracking-changes-in-a-local-repo>Tracking changes in a local repo</a></li><li><a href=#undoing-changes>Undoing changes</a></li><li><a href=#branching>Branching</a><ul><li><a href=#managing-merge-conflicts>Managing merge conflicts</a></li><li><a href=#to-delete-branches>To delete branches</a></li></ul></li><li><a href=#git-tags>Git tags</a></li><li><a href=#git-stash>Git stash</a></li><li><a href=#deleting-the-history-of-a-branch>Deleting the history of a branch</a></li><li><a href=#git-log-git-show--git-diff>Git log, Git show & Git Diff</a><ul><li><a href=#getting-changes-in-a-remote-repo>Getting changes in a remote repo</a></li></ul></li></ul></nav></nav></aside></main><footer class=footer><span>&copy; 2024 datDhruv</span>
<span>Made with &#10084;&#65039; using <a target=_blank href=https://github.com/526avijitgupta/gokarna>Gokarna</a></span></footer></body></html>